!function(t){t.gritter={},t.gritter.options={position:"",class_name:"",fade_in_speed:"medium",fade_out_speed:1e3,time:6e3},t.gritter.add=function(t){try{return e.add(t||{})}catch(e){var i="Gritter Error: "+e;"undefined"!=typeof console&&console.error?console.error(i,t):alert(i)}},t.gritter.remove=function(t,i){e.removeSpecific(t,i||{})},t.gritter.removeAll=function(t){e.stop(t||{})};var e={position:"",fade_in_speed:"",fade_out_speed:"",time:"",_custom_timer:0,_item_count:0,_is_setup:0,_tpl_close:'<div class="gritter-close"></div>',_tpl_title:'<span class="gritter-title">[[title]]</span>',_tpl_item:'<div id="gritter-item-[[number]]" class="gritter-item-wrapper [[item_class]]" style="display:none"><div class="gritter-top"></div><div class="gritter-item">[[close]][[image]]<div class="[[class_name]]">[[title]]<p>[[text]]</p></div><div style="clear:both"></div></div><div class="gritter-bottom"></div></div>',_tpl_wrap:'<div id="gritter-notice-wrapper"></div>',add:function(i){if("string"==typeof i&&(i={text:i}),!i.text)throw'You must supply "text" parameter.';this._is_setup||this._runSetup();var n=i.title,o=i.text,r=i.image||"",s=i.sticky||!1,a=i.class_name||t.gritter.options.class_name,l=t.gritter.options.position,c=i.time||"";this._verifyWrapper(),this._item_count++;var h=this._item_count,u=this._tpl_item;t(["before_open","after_open","before_close","after_close"]).each(function(n,o){e["_"+o+"_"+h]=t.isFunction(i[o])?i[o]:function(){}}),this._custom_timer=0,c&&(this._custom_timer=c);var d=""!=r?'<img src="'+r+'" class="gritter-image" />':"",p=""!=r?"gritter-with-image":"gritter-without-image";if(n=n?this._str_replace("[[title]]",n,this._tpl_title):"",u=this._str_replace(["[[title]]","[[text]]","[[close]]","[[image]]","[[number]]","[[class_name]]","[[item_class]]"],[n,o,this._tpl_close,d,this._item_count,p,a],u),this["_before_open_"+h]()===!1)return!1;t("#gritter-notice-wrapper").addClass(l).append(u);var f=t("#gritter-item-"+this._item_count);return f.fadeIn(this.fade_in_speed,function(){e["_after_open_"+h](t(this))}),s||this._setFadeTimer(f,h),t(f).bind("mouseenter mouseleave",function(i){"mouseenter"==i.type?s||e._restoreItemIfFading(t(this),h):s||e._setFadeTimer(t(this),h),e._hoverState(t(this),i.type)}),t(f).find(".gritter-close").click(function(){e.removeSpecific(h,{},null,!0)}),h},_countRemoveWrapper:function(e,i,n){i.remove(),this["_after_close_"+e](i,n),0==t(".gritter-item-wrapper").length&&t("#gritter-notice-wrapper").remove()},_fade:function(t,i,n,o){var n=n||{},r="undefined"==typeof n.fade||n.fade,s=n.speed||this.fade_out_speed,a=o;this["_before_close_"+i](t,a),o&&t.unbind("mouseenter mouseleave"),r?t.animate({opacity:0},s,function(){t.animate({height:0},300,function(){e._countRemoveWrapper(i,t,a)})}):this._countRemoveWrapper(i,t)},_hoverState:function(t,e){"mouseenter"==e?(t.addClass("hover"),t.find(".gritter-close").show()):(t.removeClass("hover"),t.find(".gritter-close").hide())},removeSpecific:function(e,i,n,o){if(!n)var n=t("#gritter-item-"+e);this._fade(n,e,i||{},o)},_restoreItemIfFading:function(t,e){clearTimeout(this["_int_id_"+e]),t.stop().css({opacity:"",height:""})},_runSetup:function(){for(opt in t.gritter.options)this[opt]=t.gritter.options[opt];this._is_setup=1},_setFadeTimer:function(t,i){var n=this._custom_timer?this._custom_timer:this.time;this["_int_id_"+i]=setTimeout(function(){e._fade(t,i)},n)},stop:function(e){var i=t.isFunction(e.before_close)?e.before_close:function(){},n=t.isFunction(e.after_close)?e.after_close:function(){},o=t("#gritter-notice-wrapper");i(o),o.fadeOut(function(){t(this).remove(),n()})},_str_replace:function(t,e,i,n){var o=0,r=0,s="",a="",l=0,c=0,h=[].concat(t),u=[].concat(e),d=i,p=u instanceof Array,f=d instanceof Array;for(d=[].concat(d),n&&(this.window[n]=0),o=0,l=d.length;o<l;o++)if(""!==d[o])for(r=0,c=h.length;r<c;r++)s=d[o]+"",a=p?void 0!==u[r]?u[r]:"":u[0],d[o]=s.split(h[r]).join(a),n&&d[o]!==s&&(this.window[n]+=(s.length-d[o].length)/h[r].length);return f?d:d[0]},_verifyWrapper:function(){0==t("#gritter-notice-wrapper").length&&t("body").append(this._tpl_wrap)}}}(jQuery);